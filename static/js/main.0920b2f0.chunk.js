(this["webpackJsonpdao-dashboard-react"]=this["webpackJsonpdao-dashboard-react"]||[]).push([[0],{102:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/challenge-8-rocketo-dao-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"dao-dashboard.cryptosketches.testnet";e.exports=function(e){switch(e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge-8-rocketo-dao-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},175:function(e,t,n){},176:function(e){e.exports=JSON.parse('{"name":"dao-dashboard-react","version":"1.0.5","homepage":"https://near-hackathon-luciferius.github.io/challenge-8-rocketo-dao-dashboard","private":true,"dependencies":{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/icons-material":"^5.6.2","@mui/material":"^5.6.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","js-sha256":"^0.9.0","materialize-css":"^1.0.0-rc.2","near-api-js":"^0.42.0","react":"^17.0.0","react-burger-menu":"^3.0.6","react-dom":"^17.0.0","react-iframe":"^1.8.0","react-materialize":"^3.10.0","react-native-sha":"^0.1.6","react-router-dom":"^6.3.0","react-scripts":"4.0.3","save":"^2.4.0","save-dev":"^0.0.1-security","styled-components":"^5.2.0","web-vitals":"^1.0.1"},"scripts":{"start":"parcel src/index.html","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build -u \'Pages Bot <pages.bot@nonexisting.io>\'"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3","parcel-bundler":"^1.12.5"}}')},183:function(e,t){},193:function(e,t){},239:function(e,t,n){"use strict";n.r(t);var a=n(92),r=n(25),c=n(8),s=n.n(c),i=n(1),o=n.n(i),l=n(51),j=n.n(l),d=n(10),b=n(6),h=n(9),u=n(0);function p(e){var t=e.signIn;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{children:"Kawaii Zoo Homepage"})}),Object(u.jsx)(h.Button,{small:!0,onClick:t,children:"Log in"}),Object(u.jsx)("p",{children:"This app was developed for the NEAR Spring hackathon. In order to use the app you need to sign in with your NEAR wallet."})]})}var m=n(5),O=n(93),x=n.n(O),f=n(95),g=n.n(f),v=function(e){return Object(u.jsx)("div",{className:"popup-box",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),e.content]})})},w=function(e){var t=e.currentUser,n=e.signIn,a=e.signOut,r=e.clearMessage,c=e.message;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"App",children:[Object(u.jsx)(m.a,{}),t?Object(u.jsx)(h.Button,{onClick:a,floating:!0,large:!0,className:"btn-login",icon:Object(u.jsx)(x.a,{fontSize:"large",className:"btn-icon"}),tooltip:"Log out "+t.accountId+"."}):Object(u.jsx)(h.Button,{onClick:n,floating:!0,large:!0,className:"btn-login",icon:Object(u.jsx)(g.a,{fontSize:"large",className:"btn-icon"}),tooltip:"Log in using NEAR wallet."}),c&&Object(u.jsx)(v,{content:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("b",{children:"A message for you"}),Object(u.jsx)("p",{children:c})]}),handleClose:r})]})})},N=n(96),_=function(e){var t=e.setDao,n=Object(m.h)().dao;return Object(i.useEffect)((function(){t(n)}),[n,t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(N.slide,{pageWrapId:"page-wrapper",outerContainerId:"App",children:[Object(u.jsx)(d.b,{className:"menu-item",to:"",children:"Dao Dashboard"}),Object(u.jsx)(d.b,{className:"menu-item",to:"jobs",children:"Jobs"}),Object(u.jsx)(d.b,{className:"menu-item",to:"tasks",children:"Tasks"}),Object(u.jsx)(d.b,{className:"menu-item",to:"members",children:"Members"})]}),Object(u.jsx)("main",{id:"page-wrapper",children:Object(u.jsx)(m.a,{})})]})};function y(e){var t=e.version;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("main",{id:"page-wrapper",children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:["NEAR Challenge #8 - DAO Dashboard - ",t]})}),Object(u.jsx)("p",{children:"Create a new DAO or enter existing ones."})]})})}function C(e){var t=e.version,n=Object(m.h)().dao;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:["NEAR Challenge #8 - DAO Dashboard - ",t]})}),Object(u.jsxs)("p",{children:["Dashboard for ",n,"."]})]})}function S(e){var t=e.onJobCreation;return Object(u.jsx)("form",{onSubmit:t,children:Object(u.jsxs)("fieldset",{id:"fieldset",className:"flex flex-col details-view flex-grow",children:[Object(u.jsxs)("div",{className:"highlight flex flex-col",children:[Object(u.jsx)("h5",{children:"Create a new job offering"}),Object(u.jsx)("p",{children:"Add all required parameter for the new job and hit the 'Create' button."}),Object(u.jsx)(h.TextInput,{autoComplete:"off",autoFocus:!0,id:"name_prompt",label:"The name of the job.",required:!0}),Object(u.jsx)(h.TextInput,{autoComplete:"off",id:"description_prompt",label:"A detailed description of the job.",required:!0}),Object(u.jsx)(h.TextInput,{autoComplete:"off",id:"payment_prompt",defaultValue:"1",min:"0",step:"1",type:"number",label:"The payment for the job in \u24c3.",required:!0}),Object(u.jsx)(h.TextInput,{autoComplete:"off",id:"duration_prompt",defaultValue:"172800",min:"1",step:"1",type:"number",label:"The duration for the job offer in s.",required:!0})]}),Object(u.jsx)(h.Button,{type:"submit",small:!0,tooltip:"Creates the job and deposits the chosen payment.",children:"Create"})]})})}var k=function(e){var t=e.daoData,n=e.loaded,a=e.currentUser,r=e.onJobCreation,c=Object(m.h)().dao,s=Object(i.useState)([]),o=Object(b.a)(s,2),l=o[0],j=o[1],h=Object(i.useState)([]),p=Object(b.a)(h,2),O=p[0],x=p[1],f=Object(i.useState)([]),g=Object(b.a)(f,2),v=g[0],w=g[1];Object(i.useEffect)((function(){t.jobs&&(j(N(t.jobs.filter((function(e){return"Open"===e.state})),3)),x(N(t.jobs.filter((function(e){return"InProgress"===e.state})),3)),w(N(t.jobs.filter((function(e){return"Canceled"===e.state})),3)))}),[t]);var N=function(e,t){for(var n=[],a=0,r=e.length;a<r;)n.push(e.slice(a,a+=t));return n};return n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[t.name,"'s Jobs Board"]})}),Object(u.jsx)("h5",{children:"Open Jobs"}),t.jobs.length>0?l.map((function(e){return Object(u.jsx)("div",{className:"row",children:e.map((function(e){return Object(u.jsx)("div",{className:"col s4",children:Object(u.jsx)(d.b,{className:"bm-item menu-item",to:e.id,children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-title",children:e.name}),Object(u.jsx)("div",{className:"card-content",children:Object(u.jsx)("p",{children:e.description})})]})})})}))})})):Object(u.jsx)("p",{children:"Currently there are no open jobs available."}),Object(u.jsx)("h5",{children:"Active Jobs"}),t.jobs.length>0?O.map((function(e){return Object(u.jsx)("div",{className:"row",children:e.map((function(e){return Object(u.jsx)("div",{className:"col s4",children:Object(u.jsx)(d.b,{className:"bm-item menu-item",to:e.id,children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-title",children:e.name}),Object(u.jsx)("div",{className:"card-content",children:Object(u.jsx)("p",{children:e.description})})]})})})}))})})):Object(u.jsx)("p",{children:"Currently there are no active jobs."}),Object(u.jsx)("h5",{children:"Canceled Jobs"}),t.jobs.length>0?v.map((function(e){return Object(u.jsx)("div",{className:"row",children:e.map((function(e){return Object(u.jsx)("div",{className:"col s4",children:Object(u.jsx)(d.b,{className:"bm-item menu-item",to:e.id,children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-title",children:e.name}),Object(u.jsx)("div",{className:"card-content",children:Object(u.jsx)("p",{children:e.description})})]})})})}))})})):Object(u.jsx)("p",{children:"Currently there are no canceled jobs."}),c===a.accountId?Object(u.jsx)(S,{onJobCreation:r}):null]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[c,"'s Jobs Board"]})}),Object(u.jsx)("h1",{children:"Loading..."})]})},A=n(97),I=n(26),T=n.n(I),D=function(e){var t=e.jobData,n=e.onCancelJob,a=e.onStartJob,r=Object(i.useState)(),c=Object(b.a)(r,2),s=c[0],o=c[1],l=Object(m.g)();if(!t)return null;switch(t.state){case"InProgress":return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(h.Button,{large:!0,tooltip:"Canceles the payment an the job offering. Important: A new job has to be created afterwards.",onClick:function(){return n(t.id)},children:"Cancel Contract"})});case"Open":return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-col flex-grow medium-margin-right",children:Object(u.jsx)(h.TextInput,{autoComplete:"off",label:"NEAR account id of the contracted.",onChange:function(e){o(e.target.value)}})}),Object(u.jsx)(h.Button,{large:!0,tooltip:"Assigns the contracted and starts the job immediately.",onClick:function(){return a(t.id,s)},className:s?"medium-margin-right":"medium-margin-right disabled",children:"Assign Contracted And Start"}),Object(u.jsx)(h.Button,{large:!0,onClick:function(){l("applications")},children:"View Applications"})]});default:return null}};function E(e){var t=e.onApplyForJob,n=e.jobId;return Object(u.jsx)("form",{onSubmit:t,children:Object(u.jsxs)("fieldset",{id:"fieldset",className:"flex flex-col details-view flex-grow",children:[Object(u.jsxs)("div",{className:"highlight flex flex-col",children:[Object(u.jsx)("h5",{children:"Apply for the job"}),Object(u.jsx)("p",{children:"Write your most inspiring application down below."}),Object(u.jsx)(h.TextInput,{autoComplete:"off",id:"job_id",label:"The job ID. Do not change it!",required:!0,inputClassName:"disabled",value:n}),Object(u.jsx)(h.Textarea,{autoFocus:!0,id:"application_prompt",label:"Here is the space for your amazing application.",required:!0})]}),Object(u.jsx)(h.Button,{type:"submit",small:!0,tooltip:"Applies for the job. In order to change your application simply fill the form again.",children:"Apply"})]})})}var F=function(e){var t=e.daoData,n=e.currentUser,a=e.onCancelJob,r=e.onStartJob,c=e.onApplyForJob,s=Object(m.h)(),o=s.dao,l=s.job,j=Object(i.useState)(),d=Object(b.a)(j,2),h=d[0],p=d[1],O=Object(i.useState)(),x=Object(b.a)(O,2),f=x[0],g=x[1];return Object(i.useEffect)((function(){if(t.jobs){var e=t.jobs.find((function(e){return e.id===l})),n=parseInt(e.payment_cycle_in_s),a=n%60,r=Math.floor(n%3600/60),c=Math.floor(n%86400/3600),s=Math.floor(n/86400);n="",s&&(n+=" "+s+"d"),c&&(n+=" "+c+"h"),r&&(n+=" "+r+"m"),a&&(n+=" "+a+"s"),e.duration=n,p(e),g(T()(e.payment).div(Math.pow(10,24)).toFixed(2))}}),[t,l]),h?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[h.name,"'s Details"]})}),Object(u.jsx)("div",{className:"flex flex-row-wrap justify-between margin-row-small",children:n.accountId===o?Object(u.jsx)(D,{jobData:h,onCancelJob:a,onStartJob:r}):null}),Object(u.jsxs)("div",{className:"flex flex-row-wrap justify-between",children:[Object(u.jsxs)("div",{className:"details-view flex flex-col flex-grow medium-margin-right",children:[Object(u.jsx)("div",{className:"margin-row-small text-bigger",children:h.description}),Object(u.jsxs)("div",{className:"flex justify-between margin-row-small",children:[Object(u.jsx)("div",{className:"text-unimportant min-margin-right",children:"Status:"}),Object(u.jsx)("div",{children:h.state})]}),Object(u.jsxs)("div",{className:"flex justify-between margin-row-small",children:[Object(u.jsx)("div",{className:"text-unimportant min-margin-right",children:"Total Payment:"}),Object(u.jsxs)("div",{children:[f," \u24c3"]})]}),Object(u.jsxs)("div",{className:"flex justify-between margin-row-small",children:[Object(u.jsx)("div",{className:"text-unimportant min-margin-right",children:"Contract Duration:"}),Object(u.jsx)("div",{children:h.duration})]}),Object(u.jsxs)("div",{className:"flex justify-between margin-row-small",children:[Object(u.jsx)("div",{className:"text-unimportant min-margin-right",children:"Applications:"}),Object(u.jsx)("div",{children:h.applicants.length})]}),Object(u.jsxs)("div",{className:"flex justify-between margin-row-small",children:[Object(u.jsx)("div",{className:"text-unimportant min-margin-right",children:"Contracted:"}),Object(u.jsx)("div",{children:h.contracted})]})]}),h.payment_stream_id?Object(u.jsx)("div",{children:Object(u.jsx)(A.a,{url:"https://test.app.roke.to/#/streams/"+h.payment_stream_id,position:"relative",overflow:"hidden",className:"roketo-iframe"})}):null]}),o!==n.accountId?Object(u.jsx)("div",{className:"margin-row-big",children:Object(u.jsx)(E,{onApplyForJob:c,jobId:h.id})}):null]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[l,"'s Details"]})}),Object(u.jsx)("h1",{children:"Loading..."})]})},U=function(){var e=Object(m.h)().dao;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[e,"'s Members"]})}),Object(u.jsx)("p",{children:"Members here."})]})},J=function(){var e=Object(m.h)(),t=e.dao,n=e.member;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[n,"'s Details"]})}),Object(u.jsxs)("p",{children:["Member ",n," of ",t,"."]})]})},R=function(){var e=Object(m.h)().dao;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[e,"'s Tasks Board"]})}),Object(u.jsx)("p",{children:"Tasks here."})]})},M=function(){var e=Object(m.h)(),t=e.dao,n=e.task;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[n,"'s Details"]})}),Object(u.jsxs)("p",{children:["Task ",n," of ",t,"."]})]})},B=n(99),P=n.n(B),H=n(98),L=n.n(H),W=function(e){var t=e.daoData,n=Object(m.h)().job,a=Object(i.useState)(),c=Object(b.a)(a,2),o=c[0],l=c[1],j=Object(i.useState)(),d=Object(b.a)(j,2),p=d[0],O=d[1],x=Object(m.g)();Object(i.useEffect)((function(){if(t.jobs){var e=t.jobs.find((function(e){return e.id===n}));l(f(e.applicants,2)),O(e.name)}}),[t,n]);var f=function(e,t){for(var n=[],a=0,r=e.length;a<r;)n.push(e.slice(a,a+=t));return n},g=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[p,"'s Applications"]})}),Object(u.jsx)("div",{className:"flex flex-row-wrap justify-between margin-row-small",children:Object(u.jsx)(h.Button,{large:!0,onClick:function(){x(-1)},children:Object(u.jsxs)("div",{className:"flex flex-row",children:[Object(u.jsx)("div",{className:"min-margin-right",children:Object(u.jsx)(L.a,{className:"btn-icon"})}),Object(u.jsx)("div",{children:"Back"})]})})}),o.length>0?o.map((function(e){return Object(u.jsx)("div",{className:"row",children:e.map((function(e){return Object(u.jsx)("div",{className:"col s6",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-title flex flex-row",children:[Object(u.jsx)("div",{className:"min-margin-right",children:e.applicant}),Object(u.jsx)("div",{className:"bm-item menu-item",onClick:function(){return g(e.applicant)},children:Object(u.jsx)(P.a,{className:"btn-icon"})})]}),Object(u.jsx)("div",{className:"card-content",children:Object(u.jsx)("p",{className:"preserve-newline",children:e.application})})]})})}))})})):Object(u.jsx)("p",{children:"Currently there are no applications for the job. Come back later."})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[n,"'s Applications"]})}),Object(u.jsx)("h1",{children:"Loading..."})]})},K=n(100),q=n(101),V=n(104),z=n(103),Z=n.p+"static/media/404.6fa35088.jpg",G=function(e){Object(V.a)(n,e);var t=Object(z.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(u.jsx)("img",{src:Z,alt:"Nothing is here.",width:"900",style:{margin:"10em"}})}}]),n}(o.a.Component),Q=G,X=(n(174),n(175),n(176).version);n(177);var Y=T()(3).times(Math.pow(10,14)).toFixed(),$=function(e){var t=e.contract,n=e.currentUser,a=e.nearConfig,c=e.wallet,o=e.provider,l=e.lastTransaction,j=e.error,d=Object(i.useState)(""),h=Object(b.a)(d,2),O=h[0],x=h[1],f=Object(i.useState)(""),g=Object(b.a)(f,2),v=g[0],N=g[1],S=Object(i.useState)([]),A=Object(b.a)(S,2),I=A[0],D=A[1],E=Object(i.useState)(!1),B=Object(b.a)(E,2),P=B[0],H=B[1];Object(i.useEffect)((function(){function e(){return e=Object(r.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.txStatus(t,n);case 2:a=e.sent,(r=a.receipts_outcome[0].outcome.logs.pop())||(r=a.receipts_outcome[3].outcome.logs.pop()),r&&x(r);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}j?(x(decodeURI(j)),window.history.pushState({},"",window.location.origin+window.location.pathname+window.location.hash)):l&&n&&(!function(t,n){e.apply(this,arguments)}(l,n.accountId),window.history.pushState({},"",window.location.origin+window.location.pathname+window.location.hash))}),[l,j,n,o]),Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.get_dao({dao_owner:v});case 4:n=e.sent,console.log(n),D(n),H(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n,v]);var L=function(){c.requestSignIn({contractId:a.contractName,methodNames:[t.cancel_job.name,t.start_job.name,t.create_job_offering.name,t.apply_for_job.name]},"NEAR Challenge #8 - DAO Dashboard",null,null)};return n?Object(u.jsx)(m.d,{children:Object(u.jsxs)(m.b,{path:"/",element:Object(u.jsx)(w,{currentUser:n,signIn:L,signOut:function(){c.signOut()},clearMessage:function(){x("")},message:O}),children:[Object(u.jsx)(m.b,{index:!0,element:Object(u.jsx)(y,{version:X})}),Object(u.jsxs)(m.b,{path:":dao",element:Object(u.jsx)(_,{setDao:N}),children:[Object(u.jsx)(m.b,{index:!0,element:Object(u.jsx)(C,{version:X})}),Object(u.jsxs)(m.b,{path:"jobs",children:[Object(u.jsx)(m.b,{index:!0,element:Object(u.jsx)(k,{daoData:I,loaded:P,onJobCreation:function(e){e.preventDefault();var n=e.target.elements,a=n.fieldset,r=n.name_prompt,c=n.description_prompt,s=n.payment_prompt,i=n.duration_prompt,o=T()(s.value).times(Math.pow(10,24)).toFixed();a.disabled=!0,t.create_job_offering({name:r.value,description:c.value,payment:o,payment_cycle_in_s:i.value},Y,o).then((function(e){console.log("Successfully created job.")}))},currentUser:n})}),Object(u.jsx)(m.b,{path:":job",element:Object(u.jsx)(F,{daoData:I,currentUser:n,onCancelJob:function(e){t.cancel_job({job_id:e},Y,T()("1").times(Math.pow(10,21)).toFixed()).then((function(e){console.log("Successfully canceled.")}))},onStartJob:function(e,n){t.start_job({job_id:e,contracted:n},Y,T()("1").times(Math.pow(10,22)).toFixed()).then((function(e){console.log("Successfully started.")}))},onApplyForJob:function(e){e.preventDefault();var n=e.target.elements,a=n.fieldset,r=n.job_id,c=n.application_prompt;a.disabled=!0,t.apply_for_job({dao_owner:v,job_id:r.value,application:c.value},Y,0).then((function(e){console.log("Successfully added application.")}))}})}),n.accountId===v?Object(u.jsx)(m.b,{path:":job/applications",element:Object(u.jsx)(W,{daoData:I,loaded:P})}):null]}),Object(u.jsxs)(m.b,{path:"tasks",children:[Object(u.jsx)(m.b,{index:!0,element:Object(u.jsx)(R,{})}),Object(u.jsx)(m.b,{path:":task",element:Object(u.jsx)(M,{})})]}),Object(u.jsxs)(m.b,{path:"members",children:[Object(u.jsx)(m.b,{index:!0,element:Object(u.jsx)(U,{version:X,nearConfig:a})}),Object(u.jsx)(m.b,{path:":member",element:Object(u.jsx)(J,{})})]}),Object(u.jsx)(m.b,{path:"*",element:Object(u.jsx)(Q,{})})]})]})}):Object(u.jsx)(p,{signIn:L})},ee=n(102),te=n.n(ee),ne=n(37);function ae(){return(ae=Object(r.a)(s.a.mark((function e(){var t,n,r,c,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=te()(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge-8-rocketo-dao-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_ENV||"testnet"),n=new ne.keyStores.BrowserLocalStorageKeyStore,e.next=4,ne.connect(Object(a.a)({keyStore:n},t));case 4:if(r=e.sent,!(c=new ne.WalletConnection(r)).getAccountId()){e.next=12;break}return e.t0=c.getAccountId(),e.next=10,c.account().state();case 10:e.t1=e.sent.amount,i={accountId:e.t0,balance:e.t1};case 12:return e.next=14,new ne.Contract(c.account(),t.contractName,{viewMethods:["get_dao"],changeMethods:["cancel_job","start_job","create_job_offering","apply_for_job"],sender:c.getAccountId()});case 14:return o=e.sent,l=r.connection.provider,e.abrupt("return",{contract:o,currentUser:i,nearConfig:t,walletConnection:c,provider:l});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return ae.apply(this,arguments)}().then((function(e){var t,n,a=e.contract,r=e.currentUser,c=e.nearConfig,s=e.walletConnection,i=e.provider,o=new URLSearchParams(window.location.search);o.has("transactionHashes")&&(t=o.get("transactionHashes")),o.has("errorMessage")&&(n=o.get("errorMessage")),j.a.render(Object(u.jsx)(d.a,{children:Object(u.jsx)($,{contract:a,currentUser:r,nearConfig:c,wallet:s,lastTransaction:t,provider:i,error:n})}),document.getElementById("root"))}))}},[[239,1,2]]]);
//# sourceMappingURL=main.0920b2f0.chunk.js.map